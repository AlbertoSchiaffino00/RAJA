#############################################################################
# Copyright (c) 2016-22, Lawrence Livermore National Security, LLC
# and RAJA project contributors. See the RAJA/LICENSE file for details.
#
# SPDX-License-Identifier: (BSD-3-Clause)
#############################################################################

hip_4_3_1_gcc_10_3_1 (build and test on corona):
  variables:
    SPEC: "+rocm~openmp amdgpu_target=gfx906 %gcc@10.3.1 cxxflags='-finline-functions -finline-limit=20000' cflags='-finline-functions -finline-limit=20000' ^hip@4.3.1"
  extends: .build_and_test_on_corona

hip_4_5_2_gcc_10_3_1 (build and test on corona):
  variables:
    SPEC: "+rocm~openmp amdgpu_target=gfx906 %gcc@10.3.1 cxxflags='-finline-functions -finline-limit=20000' cflags='-finline-functions -finline-limit=20000' ^hip@4.5.2"
  extends: .build_and_test_on_corona

hip_4_3_1_clang_12_0_1 (build and test on corona):
  variables:
    SPEC: "+rocm~openmp amdgpu_target=gfx906 %clang@12.0.1 cxxflags=--gcc-toolchain=/usr/tce/packages/gcc-tce/gcc-10.2.1 ^hip@4.3.1"
  extends: .build_and_test_on_corona

hip_4_3_1_gcc_10_3_1_desul_atomics (build and test on corona):
  variables:
    SPEC: "+rocm~openmp +desul amdgpu_target=gfx906 %gcc@10.3.1 cxxflags='-finline-functions -finline-limit=20000' cflags='-finline-functions -finline-limit=20000' ^hip@4.3.1"
  extends: .build_and_test_on_corona
